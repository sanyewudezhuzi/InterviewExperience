# 微服务



# 1. SpringBoot

1.   SpringBoot自动装配原理

>   我们在SpringBoot项目的启动类上会打上`@SpringBootApplication`注解，其实SpringBoot的自动装配主要依赖的也就是这个注解。`@SpringBootApplication`注解中整合了三个注解：
>
>   *   `@SpringBootConfiguration`：作用与`@Configuration`注解相同，用来声明当前类是一个配置类
>   *   `@ComponentScan`：组件扫描注解，默认扫描当前类所在的包及其子包
>   *   `@EnableAutoConfiguration`：SpringBoot实现自动化配置的核心注解
>
>   `@EnableAutoConfiguration`注解中又整合了很多注解，其中有一个`@Import`注解用于导入自动配置的选择器，它会读取该项目和该项目引用的Jar包的classpath路径下META-INF中的一个spring.factories文件，这个文件中存储了很多配置类的全限定类名，SpringBoot会根据一些条件去指定加载这些类：
>
>   *   配置类的类上有一个`@ConditionalOnClass`注解，这个注解会判断是否有对应的字节码文件，当我们导入了相关的依赖其实就有了，这时才能进入类运行其中的方法
>   *   方法上有`@Bean`和`@ConditionalOnMissingBean`注解，这个注解会判断当前的Spring IOC容器中有没有对应的bean，如果存在则不会执行这个方法

 

2.   SpringBoot启动流程

>   1.   首先会进入启动类中的`SpringApplication.run(启动类.class, args)`方法，它会在执行run()方法前new一个SpringApplication对象。
>   2.   然后进入run()方法，它会调用SpringBoot的各个初始化器进行初始化和准备工作。
>   3.   在这之后，SpringBoot会创建应用程序的上下文，在这个阶段会执行SpringBoot自动装配的机制。
>   4.   SpringBoot会执行各种启动任务，包括创建Web服务器、加载应用程序的配置、初始化各种组件等。这个阶段会执行SpringBoot的刷新机制，它会调用各种初始化器和监听器，执行各种启动任务。其中启动Tomcat 就是在这个环节进行。



3.   SpringBoot常用的起步依赖有哪些

>   *   `spring-boot-starter-web`
>   *   `spring-boot-starter-test`
>   *   `spring-boot-starter-jdbc`
>   *   `mybatis-spring-boot-starter`
>   *   `mybatis-plus-spring-boot-starter`
>   *   `spring-boot-starter-data-redis`
>   *   `spring-boot-starter-amqp`
>   *   `spring-boot-starter-data-elasticsearch`
>   *   `spring-boot-starter-data-mongodb`
>   *   `spring-cloud-starter-alibaba-nacos-discovery`
>   *   `spring-cloud-starter-openfeign`



4.   SpringBoot支持的配置文件有哪些

>   按执行顺序排序：
>
>   *   bootstrap.yml
>   *   application.yaml
>   *   application.yml
>   *   application.properties
>   *   设置全局的JVM参数：-D键=值
>       *   举例：-Dserver.port=8080
>   *   设置启动参数：--键=值
>       *   举例：--server.port=8080



# 2. SpringCloud

1.   nacos服务注册与发现原理

